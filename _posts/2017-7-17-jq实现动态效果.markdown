---
layout:     post
title:      "jqå®ç°çš„å‡ ä¸ªåŠ¨æ€æ•ˆæœè¯¦è§£"
subtitle:   "ä½¿ç”¨jQueryå®ç°çš„èœå•æŠ˜å (list.slide-up),å›ºå®šä½ç½®æ¨¡å—(Fix module),å›å½’é¡¶éƒ¨æŒ‰é’®(Back to top),æ‰‹é£ç´æ•ˆæœ(Accordion effect),å¹»ç¯æ•ˆæœ(Slideshow effect)"
date:       2017-7-17
author:     "Duanrw"
header-img: "img/post-bg-js-module.jpg"
catalog: true
header-mask: 0.3
tags:
    - å‰ç«¯å¼€å‘
    - JavaScript
    - jQuery
---
> These affects are very common in the webpage,but how do them worked?
> This passage will show an Example and analysis

---

## Category

### åˆ—è¡¨æŠ˜å 
#### åŸç†è¿‡ç¨‹åˆ†æ
List slide-up is a vary basic effect on webpage. such as you you can open a list without a open a new page and the list will close very smoothly  when your mouse is leave the list category or click the category again.
é¦–å…ˆ,æˆ‘ä»¬æ¥å…ˆææ¸…æ¥šä»–çš„åŸç†,åœ¨ç½‘é¡µä¸­çš„èœå•æŠ˜å å…¶å®æ˜¯jqä¸­çš„**slide-up** æ•ˆæœå¹¶ä¸”æˆ‘ä»¬æ¯æ¬¡åªå…è®¸æ‰“å¼€ä¸€ä¸ªåˆ—è¡¨çˆ¶å…ƒç´ ,å°±åƒè¿™æ ·!

![](https://ws1.sinaimg.cn/large/b3c7bdb6ly1fhnsapgbw0g207k0adwi9.gif)

ä½ éœ€è¦äº†è§£**èŠ‚ç‚¹** çš„æ¦‚å¿µ,ä»¥åŠèŠ‚ç‚¹æ“ä½œä¸­çš„**siblings()** å’Œ**.children()** å…¶ä»–çš„æ“ä½œå¯ä»¥çœ‹è¿™é‡Œ[Javascript&jQuery-4.4.3](http://pan.baidu.com/s/1nuEp2bv),è¿™é‡Œæˆ‘ä»¬åªäº†è§£è¿™å‡ ä¸ªå°åŠŸèƒ½çš„çš„ç”¨æ³•.
slideup å¯¹åº”çš„æ˜¯ slidedown å¯ä»¥æ˜¯åˆ—è¡¨å±•å¼€æˆ–è€…æŠ˜å ,å°±ä¸Šä¸Šå›¾æ¼”ç¤ºçš„ä¸€æ ·,å¦å¤–æ˜¯siblings() æ˜¯æŒ‡é€‰ä¸­å…ƒç´ çš„å…„å¼Ÿå…ƒç´ ä¹Ÿå°±æ˜¯å½“å‰å…ƒç´ åŒçº§çš„åé€‰,childrenæ˜¯æŒ‡å½“å‰å…ƒç´ çš„å­å…ƒç´ ä¹Ÿå°±æ˜¯é€‰ä¸­åŒ…è£¹çš„ä¸œè¥¿,è¯´è¿™äº›æ˜¯ä¸æ˜¯å¤ªåŸºç¡€äº†ğŸ˜†.
å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆå‘¢?å…¶å®å°±æ˜¯ç‚¹å‡»çš„æ—¶å€™é€‰ä¸­çš„å…ƒç´ æ‰§è¡Œslidedownæ“ä½œ,å®ƒçš„siblingsæ‰§è¡Œslideupæ“ä½œ, å¦å¤–æ’ä¸€å¥å¦‚æœæƒ³åªç”¨ä¸€ä¸ªæ–¹æ³•æ¥å®ç°æŠ˜å å±•å¼€æ•ˆæœå¯ä½¿ç”¨**slideToggle()** ,è¿™ä¸ªupdownçš„ç»“åˆ,ä¹Ÿå³æ˜¯æ”¹å˜å½“å‰çš„çŠ¶æ€,å¦‚æœä½ æ˜¯æŠ˜å å°±å±•å¼€åä¹‹åˆ™æŠ˜å .
è¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨**addClass()** æ–¹æ³•æ¥æ“ä½œ,ç®€å•å§!
ä¸‹é¢å°±ç›´æ¥ä¸Šä»£ç å§!
#### ä»£ç ç¤ºä¾‹
```
/*HTMLéƒ¨åˆ†*/
<body>
  	<ul class="menu">
  		<li>
  			<a href="#" class="level1">æ°´æœ</a>
  			<ul class="current">
  				<li><a href="#">è‹¹æœ</a></li>
  				<li><a href="#">æ¢¨å­</a></li>
  				<li><a href="#">è‘¡è„</a></li>
  				<li><a href="#">ç«é¾™æœ</a></li>
  			</ul>
  		</li>
  		<li>
  			<a href="#" class="level1">æµ·é²œ</a>
  			<ul class="current">
  				<li><a href="#">è›å­</a></li>
  				<li><a href="#">æ‰‡è´</a></li>
  				<li><a href="#">é¾™è™¾</a></li>
  				<li><a href="#">è±¡æ‹”èšŒ</a></li>
  			</ul>
  		</li>
  	</ul>
</body>
/csséƒ¨åˆ†*/
<style type="text/css">
		body{
			font-family:'Microsoft Yahei';
		}
		body,ul{
			margin:0px;
			padding:0px;
		}

		ul{list-style:none;}


		.menu{
			width:200px;
			margin:20px auto 0;
		}

		.menu .level1,.menu li ul a{
			display:block;
			width:200px;
			height:30px;
			line-height:30px;
			text-decoration:none;
			background-color:#3366cc;
			color:#fff;
			font-size:16px;
			text-indent:10px;			
		}

		.menu .level1{
			border-bottom:1px solid #afc6f6;

		}

		.menu li ul a{
			font-size:14px;
			text-indent:20px;
			background-color:#7aa1ef;

		}

		.menu li ul li{
			border-bottom:1px solid #afc6f6;
		}



		.menu li ul{
			display:none;
		}

		.menu li ul.current{
			display:block;
		}

		.menu li ul li a:hover{
			background-color:#f6b544;
		}

```
ä¸‹é¢æˆ‘ä»¬æ¥ä½¿ç”¨jqæ¥è¿›è¡ŒæŠ˜å èœå•çš„æ“ä½œ:
å¯¼å…¥æ–‡ä»¶æˆ‘å°±ä¸å†™äº†,é¦–å…ˆåˆ›å»ºready
```
<script src="js/jquery-1.12.4.min.js"></script>
<script type="text/javascript">
    $(function(){     // åˆ›å»ºready
       $('.level1').click(function(){  //é€‰ä¸­è¦æ“ä½œçš„å¯¹è±¡,å®šä¹‰æ‰§è¡Œç‚¹å‡»æ“ä½œåçš„å‡½æ•°
          $(this).next().stop().slideToggle().parent().siblings().children('ul').slideUp();
          /*é€‰ä¸­ä¸Šé¢ç‚¹å‡»çš„å…ƒç´ å—.æ¶ˆé™¤å¤šæ¬¡ç‚¹å‡»æ•ˆæœåªä¿ç•™æœ€åä¸€æ¬¡.æ‰§è¡Œå½“å‰æŠ˜å /å±•å¼€çš„ç›¸åçš„æ“ä½œ.å®ƒçš„çˆ¶çº§å…ƒç´ .çš„å…„å¼Ÿå…ƒç´ .çš„å­å…ƒç´ (é€‰ä¸­ul).æ‰§è¡Œslideupæ“ä½œ*/
       })
    })
</script>
```
è¿™æ˜¯ç¬¬ä¸€ç§æ–¹æ³•æˆ‘ä»¬å¼€å§‹æ¼”ç¤ºç¬¬äºŒç§addClass()æ–¹æ³•:
```
$(function(){
  $('.level1').click(function(){
    $(this).next().stop().addClass('current').parent().siblings().children('ul').removeClass('current')
    })
  })
  /*è¿™ä¸ªæ•ˆæœæ²¡æœ‰è¿‡åº¦çš„æ•ˆæœä½†æ˜¯ä¸€æ ·å®ç°äº†æŠ˜å å’Œå±•å¼€,addClassæ˜¯ç»™å…ƒç´ å¢åŠ ç±»,è€ŒremoveClassæ˜¯ç»™é€‰ä¸­çš„å…ƒç´ ç§»é™¤ç±»*/
```
### å›ºå®šæ¨¡å—
#### åŸç†è¿‡ç¨‹åˆ†æ
#### ä»£ç ç¤ºä¾‹

### è¿”å›é¡¶éƒ¨
#### åŸç†è¿‡ç¨‹åˆ†æ
#### ä»£ç ç¤ºä¾‹

### æ‰‹é£ç´æ•ˆæœ
#### åŸç†è¿‡ç¨‹åˆ†æ
æ‰‹é£ç´æ•ˆæœå›¾å¦‚ä¸‹

![](https://ws1.sinaimg.cn/large/b3c7bdb6ly1fhnwoti4rog20fs085du6.gif)

é‚£ä¹ˆæˆ‘ä»¬æ¥åˆ†æä¸‹è¿™ä¸ªè¿‡ç¨‹æ˜¯å¦‚ä½•å®ç°çš„:
æˆ‘ä»¬å®šä¹‰å¦‚ä¸‹ç»“æ„
```
div>ul>li*5>a+img
```
é¦–å…ˆä½ è¦å®šä¹‰å¥½ä¸€ä¸ªåˆšèƒ½è£…ä¸‹äº”ä¸ª(è¿™é‡Œæ˜¯æˆ‘ä¸¾ä¾‹å­ä½¿ç”¨çš„äº”ä¸ªæ ‡ç­¾å…·ä½“å¤šå°‘çœ‹è‡ªå·±)æ ‡ç­¾ä»¥åŠå›¾ç‰‡çš„div,å¹¶ä¸”ä½¿ç”¨ç»å¯¹å®šä½æ¥å®šä½è¿™å‡ ä¸ªli,è¿™é‡Œæœ‰ä¸ªå‘,å°±æ˜¯å¦‚æœä½¿ç”¨äº†ç»å¯¹å®šä½å®šä½Lié‚£ä¹ˆä»–çš„çˆ·çˆ·å…ƒç´ divä¸€å®šè¦è®¾ç½®ç»å¯¹å®šä½,å…·ä½“çš„å¯ä»¥è°·æ­Œæœç´¢ä¸ºä½•,ä¹Ÿå°±æ˜¯è¯´å°ºå¯¸è®¾è®¡ä¸Šåªèƒ½æ­£å¥½è£…ä¸‹è¿™äº›ä¸œè¥¿,é‚£ä¹ˆå¤šå‡ºçš„éƒ¨åˆ†æ€ä¹ˆåŠ,å½“ç„¶æ˜¯éšè—å–½,è®¾ç½®divçš„overflow:hidden. csséƒ¨åˆ†è®¾è®¡å®Œäº†é‚£ä¹ˆjqéƒ¨åˆ†æ€ä¹ˆå®ç°çš„å‘¢,æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£:
å½“æˆ‘ä»¬ç‚¹å‡»å…¶ä¸­çš„ä¸€ä¸ªliçš„æ—¶å€™,è¿™ä¸ªliä»¥åŠliå·¦è¾¹çš„éƒ¨åˆ†å…¨éƒ¨æŒ‰ç…§ç»å¯¹å®šä½ç«™åˆ°è‡ªå·±åº”è¯¥ç«™çš„ä½ç½®,è€Œliå³è¾¹çš„æ‰€æœ‰å…ƒç´ å…¨éƒ¨å¾€å³å®šä½åˆ°è‡ªå·±åœ¨å³è¾¹åº”è¯¥åœ¨çš„ä½ç½®,å…¶å®æ¯ä¸ªliåªæœ‰ä¸¤ä¸ªä½ç½®è€Œå·²,æ‰€ä»¥æˆ‘ä»¬é€šè¿‡è¿™ä¸ªæ¥å®ç°çš„æ—¶å€™å°±æ¯”è¾ƒæ–¹ä¾¿äº†,å½“ç„¶æˆ‘ä»¬åœ¨è¿™é‡Œè¿˜è¦ä½¿ç”¨å¾ªç¯å•¦,è¿™æ ·èƒ½æ›´æ™ºèƒ½çš„æ›´æ–¹ä¾¿çš„å†™å‡ºä»£ç . åºŸè¯ä¸å¤šè¯´ä¸Šä»£ç !

#### ä»£ç ç¤ºä¾‹

åŒæ ·çš„æˆ‘ä»¬å…ˆå®šä¹‰HTMLéƒ¨åˆ†å¦‚ä¸‹
```
<body>
<div id="accordion">
	<ul>
	<li class="bar01"><span>éæ´²æ™¯è‰²01</span><img src="images/001.jpg" /></li>
    <li class="bar02"><span>éæ´²æ™¯è‰²02</span><img src="images/002.jpg" /></li>
    <li class="bar03"><span>éæ´²æ™¯è‰²03</span><img src="images/003.jpg" /></li>
    <li class="bar04"><span>éæ´²æ™¯è‰²04</span><img src="images/004.jpg" /></li>
    <li class="bar05"><span>éæ´²æ™¯è‰²05</span><img src="images/005.jpg" /></li>
	</ul>
</div>
</body>


```
ç„¶åæ˜¯csséƒ¨åˆ†
```

<style>
*{margin:0;padding:0;}
body{font-size:12px;}
/*è¿™é‡Œçš„accordingçš„ä½ç½®å¿…é¡»è®¾ç½®ä¸ºrelativeæˆ–è€…absoluteå¦åˆ™å­å…ƒç´ æ— æ³•æ­£å¸¸æ˜¾ç¤º*/
#accordion{width:727px; height:350px; margin:100px auto 0 auto; position:relative; overflow:hidden; border:1px solid #CCC;}
#accordion ul{list-style:none;}
/*è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†ç»å¯¹å®šä½*/
#accordion ul li{width:643px;height:350px; position:absolute; background:#FFF;}
#accordion ul li span{display:block;width:20px; height:350px; float:left; text-align:center; color:#FFF; padding-top:5px; cursor:pointer;}
/*è¿™é‡Œå›¾ç‰‡çš„å¤§å°ä¸º 622*350 */
#accordion ul li img{display:block; float:right;}

.bar01{left:0px;}
.bar02{left:643px;}
.bar03{left:664px;}
.bar04{left:685px;}
.bar05{left:706px;}
.bar01 span{background:#09E0B5;}
.bar02 span{background:#3D7FBB;}
.bar03 span{background:#5CA716;}
.bar04 span{background:#F28B24;}
.bar05 span{background:#7C0070;}
</style>
```
æœ€ä¸»è¦çš„jséƒ¨åˆ†æ¥äº†:
```
<script>
$(function(){
	var $li = $('#accordion li');
	// é¦–å…ˆæˆ‘ä»¬è®©ç‚¹å‡»çš„liä»¥åŠliå·¦è¾¹çš„éƒ¨åˆ†å…¨éƒ¨é å·¦å½’ä½
	$li.click(fucntion(){  // è¿™é‡Œæ˜¯é€‰ä¸­ç‚¹å‡»çš„liçš„ä½ç½®å½’å·¦

		$(this).animate({'left':$(this).index()*21}) //ç”±äºæ¯ä¸ªliçš„aæ ‡ç­¾å¤§å°ä¸º21æ‰€ä»¥æˆ‘ä»¬è®©å¯ä»¥é€‰ä¸­æ ‡ç­¾çš„ç´¢å¼•ä¹˜ä»¥21å°±å¯ä»¥å¾—åˆ°è¿™ä¸ªliåº”è¯¥åœ¨çš„ä½ç½®.
		// ä¸‹é¢æˆ‘ä»¬å¼€å§‹ç§»åŠ¨è¿™ä¸ªæ ‡ç­¾å·¦è¾¹çš„æ‰€æœ‰æ ‡ç­¾,è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†preAll è¿™ä¸ªåŠŸèƒ½,è¿™æ˜¯æŒ‡åœ¨åŒçº§å…ƒç´ ä¸­é€‰ä¸­å…ƒç´ çš„å‰é¢çš„æ‰€æœ‰å…ƒç´ 

		$(this).preAll().each(function(){ // è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†å¾ªç¯
			// ä¸‹é¢çš„thisæ˜¯æŒ‡å¾ªç¯çš„æ¯ä¸ªpreçš„å…ƒç´ 

			$(this).animate({'left':$(this).index()*21})

		})
				// ä¸‹é¢æˆ‘ä»¬è®©ç‚¹å‡»å…ƒç´ çš„æ‰€æœ‰çš„å³è¾¹çš„å…ƒç´ å½’åˆ°å³è¾¹å»
		$(this).nextAll().each(fucntion(){

			$(this).animate({'left':727-21*(5-$(this).index())})
		})
	})
})
</script>
```
å½“ç„¶è¿™åªæ˜¯å…¶ä¸­çš„ä¸€ç§æ€è·¯:æˆ‘æƒ³åˆ°çš„å¦å¤–ä¸€ç§æ€è·¯å’Œä¸Šé¢ç±»ä¼¼:å› ä¸ºæ¯ä¸ªæ ‡ç­¾æ‰€å¯¹åº”çš„ä½ç½®åªæœ‰ä¸¤ä¸ª,å¯ä»¥ä½¿ç”¨addClass å’ŒremoveClassæ¥ç§»åŠ¨æ¯ä¸ªli,è¿™é‡Œå°±ä¸è¯•éªŒäº†,ä½ å¯ä»¥åšä¸‹è¯•è¯•!


### å¹»ç¯æ•ˆæœ(æœ€æ–°)
#### åŸç†è¿‡ç¨‹åˆ†æ
#### ä»£ç ç¤ºä¾‹


---
